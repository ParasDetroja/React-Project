{"ast":null,"code":"var _jsxFileName = \"D:\\\\React\\\\testing\\\\src\\\\App.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport RowComponents from './RowComponent';\nimport './App.css';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction App() {\n  _s();\n\n  const [temp, setTemp] = useState(1);\n  const [arr, setArr] = useState([{\n    id: 0,\n    name: \"\",\n    parent: 0\n  }]);\n  const [data, setData] = useState();\n  useEffect(() => {\n    getAllData();\n  }, []);\n\n  const getAllData = async () => {\n    // console.log('data', await fetch('http://localhost:8000/getAllCategory'));\n    axios.get('http://localhost:8000/getAllCategory').then(res => {\n      if (res.data) {\n        console.log('formated Array', res.data);\n        setData(res.data);\n      } else {\n        setData([{\n          id: 0,\n          name: \"\",\n          parent: 0\n        }]);\n      }\n    }).catch(err => {\n      console.log(err);\n    });\n  };\n\n  const addRow = id => {\n    data.forEach(element => {\n      if (element.parent_id == id) {}\n    });\n    console.log('addRow', id); // let newArr = [...data];\n    // newArr.push({\n    //   id: '', \n    //   name: \"Category Name\",\n    //   parent: id \n    // })\n    // setData(newArr);\n  };\n\n  console.log('arr', data);\n\n  const increseCount = id => {\n    setTemp(temp + 1);\n    addRow(id);\n  };\n\n  const createNew = (name, parent_id) => {\n    console.log('name', name);\n    let body = {};\n    body['name'] = name;\n    body['parent_id'] = parent_id;\n    console.log('bosy', body);\n    axios.post('http://localhost:8000/store', body).then(res => {\n      console.log('post', res);\n      getAllData();\n    });\n  };\n\n  const edit = (name, id) => {\n    let body = {};\n    body['name'] = name;\n    console.log('body', body);\n    axios.put(`http://localhost:8000/update/${id}`, body).then(res => {\n      console.log('post', res);\n      getAllData();\n    });\n  };\n\n  const deleteCategory = id => {\n    axios.delete(`http://localhost:8000/delete/${id}`, body).then(res => {\n      console.log('post', res);\n      getAllData();\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: [data && data.map(item => /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: /*#__PURE__*/_jsxDEV(RowComponents, {\n        name: item.name,\n        addRow: createNew,\n        id: item.id,\n        parent_id: item.parent_id,\n        save: createNew,\n        item: item,\n        edit: edit,\n        deleteCategory: deleteCategory\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 11\n      }, this)\n    }, void 0, false)), console.log('addRow', data)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 83,\n    columnNumber: 5\n  }, this);\n}\n\n_s(App, \"J6GzGmZJktHX/1SBCpzQE2KgVK0=\");\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["D:/React/testing/src/App.js"],"names":["React","useState","useEffect","RowComponents","axios","App","temp","setTemp","arr","setArr","id","name","parent","data","setData","getAllData","get","then","res","console","log","catch","err","addRow","forEach","element","parent_id","increseCount","createNew","body","post","edit","put","deleteCategory","delete","map","item"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport RowComponents from './RowComponent';\nimport './App.css';\nimport axios from 'axios';\n\nfunction App() {\n  const [temp, setTemp] = useState(1);\n  const [arr, setArr] = useState([\n    { id: 0, name: \"\", parent: 0 },\n  ]);\n  const [data, setData] = useState();\n\n  useEffect(() => {\n    getAllData();\n  },[]);\n\n  const getAllData = async () => {\n    // console.log('data', await fetch('http://localhost:8000/getAllCategory'));\n    axios.get('http://localhost:8000/getAllCategory').then((res) => {\n      if(res.data) {\n        console.log('formated Array',res.data)\n        setData(res.data);\n      } else {\n        setData([ { id: 0, name: \"\", parent: 0 }]);\n      }\n    }).catch((err) => {\n      console.log(err);\n    })\n  }\n\n  const addRow = (id) => {\n\n    data.forEach(element => {\n      if(element.parent_id == id){\n\n      }\n    });\n    console.log('addRow',id);\n    // let newArr = [...data];\n    // newArr.push({\n    //   id: '', \n    //   name: \"Category Name\",\n    //   parent: id \n    // })\n    // setData(newArr);\n  }\n  console.log('arr',data)\n  const increseCount = (id) => {\n    setTemp(temp+1);\n    addRow(id);\n  }\n\n  const createNew = (name, parent_id) => {\n    console.log('name',name)\n    let body = {};\n    body['name'] = name;\n    body['parent_id'] = parent_id;\n    console.log('bosy', body);\n    axios.post('http://localhost:8000/store', body).then((res) => {\n      console.log('post',res);\n      getAllData()\n    })\n  }\n\n  const edit = (name, id) => {\n    let body = {};\n    body['name'] = name;\n    console.log('body',body)\n    axios.put(`http://localhost:8000/update/${id}`, body).then((res) => {\n      console.log('post',res);\n      getAllData()\n    })\n  }\n\n  const deleteCategory = (id) => {\n    axios.delete(`http://localhost:8000/delete/${id}`, body).then((res) => {\n      console.log('post',res);\n      getAllData()\n    })\n  }\n\n  return (\n    <div className=\"App\">\n      { data && data.map((item) => (\n        <>\n        {/* {console.log('item',item)} */}\n          <RowComponents name={item.name} addRow={createNew} id={item.id} parent_id={item.parent_id} save={createNew} item={item} edit={edit} deleteCategory={deleteCategory}/>\n         \n        </>\n      )) }\n      {console.log('addRow',data)}\n    </div>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}